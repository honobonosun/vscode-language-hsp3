# ログ機能とデバッグモードの使い方

このドキュメントでは、`language-hsp3` 拡張機能のログ出力とデバッグモード設定方法について説明します。

---

## 1. 概要

- **debug レベル**

  - 内部的なメソッド呼び出しやステートダンプなど、詳細なデバッグ情報を出力します。
  - デフォルトでは無効（出力されません）。

- **info レベル**

  - ユーザー向けの最低限の主要イベントを通知します。
  - 拡張機能の起動完了、Executor 更新完了、エラー発生時など。

- **warn レベル**

  - 潜在的な問題や注意が必要な状況を警告として通知します。

- **error レベル**
  - 処理に支障をきたす重大なエラーを通知します。

---

## 2. 設定方法

1. VSCode の設定画面で以下のオプションを検索します。

   ```
   language-hsp3.debugMode
   ```

2. 「詳細なデバッグログを有効にします」のチェックボックスをオンにします。

   または、`settings.json` に直接記述:

   ```jsonc
   "language-hsp3.debugMode": true
   ```

3. 設定変更は即時反映され、再起動は不要です。

---

## 3. 動作イメージ

- デバッグ無効 (`debugMode: false`)

  - Output パネルに **info** レベル以上のメッセージのみ表示。
  - 例: `2025-06-30 12:34:56 [info] Executor updated: ...`
  - **warn** レベルの例: `2025-06-30 12:35:00 [warning] toolset-hsp3はインストールされていません。`
  - **error** レベルの例: `2025-06-30 12:35:05 [error] 処理中に予期しないエラーが発生しました。`

- デバッグ有効 (`debugMode: true`)
  - Output パネルに **debug** レベルの詳細メッセージも出力。
  - 例: `2025-06-30 12:34:56 [debug] updateCurrentExecutor called`

---

## 4. ログの確認

1. VSCode のメニュー `表示` → `出力` を開きます。
2. ドロップダウンから拡張機能のチャネル（`language-hsp3`）を選択。
3. log レベルに応じたメッセージを確認できます。

---

## 5. トラブルシューティング

- **ログが出力されない**
  - `language-hsp3.debugMode` が `true` か、拡張機能が開発モードで起動しているか確認してください。
  - Output チャネルが非表示になっている場合、チャネル一覧から手動で表示してください。

---

以上で、デバッグモードとログ機能の利用方法の説明を終わります。
